# Profile Image Management Implementation Plan

## Overview
Add profile image functionality to the account tab, allowing users to view, update, and manage their profile picture through camera/gallery selection.

## Implementation Steps

### 1. Update Mock Data with Profile Image URL
**File**: `lib/src/dashboard/data/dummy_dashboard_data.dart`
- Add a profile image URL to the mock user profile data
- Use a placeholder image URL (e.g., from UI Avatars or similar service)

### 2. Add Profile Image More Icon Overlay
**File**: `lib/src/account/presentation/interface/screens/account_tab.dart`
- Locate the existing profile avatar widget (around line 172)
- Wrap the avatar in a Stack widget
- Add a positioned "more" icon (three dots) in the bottom-right corner
- Style the icon with a small circular background for visibility
- Add GestureDetector to handle tap events on the icon

### 3. Create Profile Image Bottom Sheet
**New File**: `lib/src/account/presentation/interface/widgets/profile_image_bottom_sheet.dart`
- Create a bottom sheet widget with 4 options:
  - Take Photo (with camera icon)
  - Upload from Gallery (with gallery/image icon)
  - View Fullscreen (with expand icon)
  - Delete Photo (with delete/trash icon)
- Style consistently with existing bottom sheets in the app
- Return the selected action to the caller

### 4. Implement Camera and Gallery Selection
**File**: `lib/src/account/presentation/interface/screens/account_tab.dart`
- Import existing `ImageSelectionUtils` from `lib/shared/utils/image_selection_utils.dart`
- Handle "Take Photo" option:
  - Call `ImageSelectionUtils.showImageSourceOptions()` or directly trigger camera
  - Use the existing cropping functionality
  - Update the profile image in state
- Handle "Upload from Gallery" option:
  - Call `ImageSelectionUtils.showImageSourceOptions()` or directly trigger gallery
  - Use the existing cropping functionality
  - Update the profile image in state

### 5. Add Placeholder Implementations
**File**: `lib/src/account/presentation/interface/screens/account_tab.dart`
- Handle "View Fullscreen" option:
  - Show a simple snackbar or dialog indicating "Coming soon"
  - No actual fullscreen implementation needed
- Handle "Delete Photo" option:
  - Show a simple snackbar or dialog indicating "Coming soon"
  - No actual delete implementation needed

### 6. Update Profile Image Display
**File**: `lib/src/account/presentation/interface/screens/account_tab.dart`
- Ensure the avatar displays the updated image after camera/gallery selection
- Use the DashboardProvider's user profile data for the image URL
- Handle both local file (File/XFile) and network URL display

## Technical Notes

- **Existing Utilities**: Leverage `ImageSelectionUtils` which already handles:
  - Camera and gallery permissions
  - Image cropping with customizable aspect ratio
  - Error handling for image selection

- **State Management**: Use existing DashboardProvider pattern to update profile image

- **UI Consistency**: Match the design patterns from existing screens (SessionCard, SettingsListTile, etc.)

- **Localization**: Use existing localization keys where available, or add new ones if needed

## Files to Modify/Create

1. **Modify**: `lib/src/dashboard/data/dummy_dashboard_data.dart` - Add image URL to mock data
2. **Modify**: `lib/src/account/presentation/interface/screens/account_tab.dart` - Add icon overlay, bottom sheet trigger, and image selection logic
3. **Create**: `lib/src/account/presentation/interface/widgets/profile_image_bottom_sheet.dart` - Bottom sheet with 4 options
4. **Optional**: Update localization files if new strings are needed

## Success Criteria

- Profile image shows a "more" icon overlay in bottom-right corner
- Tapping the more icon shows a bottom sheet with 4 options
- "Take Photo" opens camera, allows cropping, and updates profile image
- "Upload from Gallery" opens gallery, allows cropping, and updates profile image
- "View Fullscreen" and "Delete Photo" show placeholder messages
- UI is consistent with existing app design patterns
